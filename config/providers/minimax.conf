syntax "next-router/0.1";

provider "minimax" {
  defaults {
    upstream_config {
      base_url = "https://api.minimax.io";
      # base_url = "https://api.minimax.chat"; # cn
    }
    auth {
      auth_bearer;
    }
    metrics {
      usage_extract openai;
      finish_reason_extract openai;
    }
    error {
      error_map openai;
    }
    response {
      resp_passthrough;
    }
  }

  match api = "chat.completions" {
    upstream {
      set_path "/v1/chat/completions";
    }
  }

  match api = "claude.messages" {
    upstream {
      set_path "/anthropic/v1/messages";
    }
  }

  match api = "images.generations" {
    upstream {
      set_path "/v1/image_generation";
    }
  }

  match api = "audio.speech" {
    upstream {
      set_path "/v1/t2a_v2";
    }
  }
}
